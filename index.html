<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Rock, paper, scissors</title>
</head>

<body>
  <h1>A simple game of rock paper scissors.</h1>
  <h2>Refresh the page to play</h2>

  <script type="text/javascript">
    // Allows computer to play by choosing a random value
    function computerPlay() {
      let computerChoice = ["Rock", "Paper", "Scissors"]
      let randomChoice = Math.floor(Math.random() * computerChoice.length);
      return (randomChoice, computerChoice[randomChoice]);

    }
    // Function will capitalise first letter and put the remainder of string in lowercase
    function capitalize(promptValue) {
      let capFirstLetter = promptValue.slice(0, 1).toUpperCase() + promptValue.slice(1).toLowerCase(1)
      return (capFirstLetter)
    }
    // Global variables
    let playerScore = 0;
    let compScore = 0;
    let totalGamesToPlay = 5
    let gamesPlayed = 0


    // Plays one round of Rock, Paper, Scissors
    function playRound(p, c) {

      if (capitalize(p) == "Rock" && c === "Scissors") {
        alert("You win, computer went for Scissors")
        return playerScore++, gamesPlayed++
      } else if (capitalize(p) == "Rock" && c == "Paper") {
        alert("Unlucky, computer went for paper")
        return compScore++, gamesPlayed++
      } else if (capitalize(p) == "Rock" && c == "Rock") {
        alert("It was a draw, both chose rock!")
        return playerScore++, compScore++, gamesPlayed++
      } else if (capitalize(p) == "Scissors" && c == "Rock") {
        alert("Unlucky, computer chose rock!")
        return compScore++, gamesPlayed++
      } else if (capitalize(p) == "Scissors" && c == "Paper") {
        alert("Well played, computer chose paper!")
        return playerScore++, gamesPlayed++
      } else if (capitalize(p) == "Scissors" && c == "Scissors") {
        alert("It was a draw, both chose scissors")
        return playerScore++, compScore++, gamesPlayed++
      } else if (capitalize(p) == "Paper" && c == "Scissors") {
        alert("Unlucky, computer chose scissors")
        return compScore++, gamesPlayed++
      } else if (capitalize(p) == "Paper" && c == "Rock") {
        alert("Well played, computer chose rock")
        return playerScore++, gamesPlayed++
      } else if (capitalize(p) == "Paper" && c == "Paper") {
        alert("it was a draw, both chose paper")
        return playerScore++, compScore++, gamesPlayed++
      }
    }


    // Plays five rounds of rock, paper, scissors

    function game() {
      for (i = 0; i < 5; i++) {
        let computerSelection = computerPlay()
        let playerSelection = prompt("Please chose either rock, paper or scissors?")
        playRound(playerSelection, computerSelection)
        if (!playerSelection) break; // do I need this break?
      }
      alert("After 5 rounds, you won " + playerScore + " points, and computer won " + compScore + "points")
      if (playerScore > compScore) {
        alert("You won more rounds than the computer, well played!")
      } else if (playerScore == compScore) {
        alert("It was draw, bad luck!")
      } else {
        alert("Computer wins, bad luck!")
      }

    }


    console.log(game());
  </script>




</body>

</html>
